"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4983],{1843:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/delegate-660dce9d2c06a4654420ddba6c0ff4bb.png"},2410:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/Screenshot-2021-10-30-215029-f5211b01a795718eb21ac36a744fdfc8.png"},4380:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/start-88f507136c5a1c830d5fc2232da386ac.png"},7874:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/Screenshot-2021-10-20-100153-ef19f27dd11fb4ffe46407d1a2fb2ff1.png"},7884:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"docfiles/multiplayer/lobby-to-session","title":"Lobby to Session","description":"In this example we\u2019re going to take a look how to transition from a Lobby to a Game Session using only Blueprints and EOSCore","source":"@site/docs/docfiles/multiplayer/lobby-to-session.md","sourceDirName":"docfiles/multiplayer","slug":"/docfiles/multiplayer/lobby-to-session","permalink":"/docfiles/multiplayer/lobby-to-session","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"steamCoreSidebar","previous":{"title":"LAN","permalink":"/docfiles/multiplayer/lan"},"next":{"title":"Testing Multiplayer","permalink":"/docfiles/multiplayer/testing-multiplayer"}}');var o=s(4848),i=s(8453);const l={},a="Lobby to Session",r={},h=[{value:"Creating the Lobby",id:"creating-the-lobby",level:2},{value:"Listening for Game Created",id:"listening-for-game-created",level:2},{value:"Starting the Session",id:"starting-the-session",level:2},{value:"Traveling to Game Session",id:"traveling-to-game-session",level:2},{value:"The final console command should look something like this:",id:"the-final-console-command-should-look-something-like-this",level:4}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"lobby-to-session",children:"Lobby to Session"})}),"\n",(0,o.jsxs)(t.p,{children:["In this example we\u2019re going to take a look how to transition from a Lobby to a Game Session using only Blueprints and ",(0,o.jsx)(t.strong,{children:"EOSCore"})]}),"\n",(0,o.jsx)(t.h2,{id:"creating-the-lobby",children:"Creating the Lobby"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Creating a EOS lobby is rather simple, all you have to do is call the \u201c",(0,o.jsx)(t.strong,{children:"Create Lobby"}),"\u201d function, for a complete lobby setup see the ",(0,o.jsx)(t.a,{href:"/example-project",children:"EOSCore Example Project"})]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Image",src:s(7874).A+"",width:"1116",height:"718"})}),"\n",(0,o.jsx)(t.h2,{id:"listening-for-game-created",children:"Listening for Game Created"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["We\u2019re going to bind the \u201c",(0,o.jsx)(t.strong,{children:"Lobby Update Received"}),"\u201d delegate in the Lobby system so that we\u2019ll get notified once the game server is available. The branch check in this example is to make sure that once the game is created the delegate will also be invoked on the host and we don\u2019t want the host to try and connect to himself, since we\u2019re using EOS Prudct Id to connect to the game session we can check if the LobbyOwner is the same as host for the game session."]}),"\n",(0,o.jsxs)(t.li,{children:["Then it\u2019s simply a matter of invoking the console command \u201c",(0,o.jsx)(t.strong,{children:"open EOS:ProductId:GameSession:97"}),"\u2033 for the client(s) to connect to the host."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Image",src:s(1843).A+"",width:"1068",height:"594"})}),"\n",(0,o.jsx)(t.h2,{id:"starting-the-session",children:"Starting the Session"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["In this example we\u2019re going to be creating a simple game session by opening a level with the \u201clisten\u201d parameter, you could also use the \u201c",(0,o.jsx)(t.strong,{children:"Create EOSCore Session"}),"\u201d node to create your session but this is not covered in this example to keep it simple and understandable."]}),"\n",(0,o.jsxs)(t.li,{children:["Calling the function \u201c",(0,o.jsx)(t.strong,{children:"Update Lobby"}),"\u201d will invoke the delegate we bound earlier on all clients that are inside the lobby, in this case we\u2019re using the ",(0,o.jsx)(t.strong,{children:"EOSCoreNetDriver"})," so we will use our ProductId as the SERVER_ADDRESS because clients will use our ProductId when connecting to us."]}),"\n",(0,o.jsx)(t.li,{children:"Then it\u2019s simply a matter of opening the level with the \u201clisten\u201d parameter, also note that you should not set the lobby game server before the map has actually finished loading on the host, but for simplicitys sake we\u2019re setting the game server first and then loading the map in this example."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Image",src:s(4380).A+"",width:"2712",height:"447"})}),"\n",(0,o.jsx)(t.h2,{id:"traveling-to-game-session",children:"Traveling to Game Session"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"This event will be called once the host updates the lobby from the delegate we bound earlier, you may want to add some checks to make sure that the attribute was found and so on, but this is a mere example to get you started,"}),"\n"]}),"\n",(0,o.jsx)(t.h4,{id:"the-final-console-command-should-look-something-like-this",children:"The final console command should look something like this:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"open EOS:ProductId:GameSession:97\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Image",src:s(2410).A+"",width:"2671",height:"486"})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>a});var n=s(6540);const o={},i=n.createContext(o);function l(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);